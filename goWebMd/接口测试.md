# API接口相关

## json的基本格式

```json
{
    "username":"ysk",
    "password":"11223344"
}
```

##  Query传值

```
URL地址?参数名1=参数值1&参数名2=参数值2&参数名3=参数值3
```

例如:

```
http://localhost:8080/books?keyword=王&page=1&pageSize=10
```

##  访问URL时,用于鉴权的userID信息如何传入

一般来说通过apifox中的Header项传入，但本项目中使用了JWT建立Token用于身份验证，所以**userID由JWT解析后获得**

相关逻辑为：由于收藏，修改用户信息等操作需要在登录后进行。那么就需要使用中间件middleware实现鉴权，已收藏为例，收藏的相关路由通过Use使得访问其时，必须调用Use中的函数midleWare.JWTAuthMiddleware()，该函数会将发起请求时携带的Token信息解析，解析结果就包括userID，函数自动将userID赋值，不需要再从header传入

## apifox解析Token

本项目Token采用Bearer格式，**Token不从Header传入**

在apifox中选择**Auth**，鉴权方式选择**Bearer Token** ，Token输入登录时生成的access_token；在发送请求，请求就自动带上了Token信息
